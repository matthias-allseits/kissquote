<div *ngIf="portfolio && portfolio.bankAccounts.length > 0" class="info-container">
    <div class="info-box">
        <h5>Portfolio Totals</h5>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_ACTUAL_INVESTMENT') }}:</div>
            <div class="col-3"><span class="float-end">{{ portfolio.investmentTotal()|number: '1.0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_ACTUAL_VALUE') }}:</div>
            <div class="col-3"><span class="float-end">{{ portfolio.valueTotal()|number: '1.0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_BALANCE_OPEN') }}:</div>
            <div class="col-3"><span class="float-end bold">{{ portfolio.openPositionsBalance()|number: '1.0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">Performance:</div>
            <div class="col-3"><span class="float-end bold">{{ (100 / portfolio.investmentTotal() * portfolio.openPositionsBalance()).toFixed(1) }}%</span></div>
        </div>
        <div class="row">
            <div class="col-9">Cash:</div>
            <div class="col-3"><span class="float-end">{{ portfolio.cashTotal()|number: '1.0-0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">Cash-Ratio:</div>
            <div class="col-3"><span class="float-end bold">{{ portfolio.cashRatio()|number: '1.0-1' }}%</span></div>
        </div>
        <div class="row">
            <div class="col-9">StopLoss Reserve:</div>
            <div class="col-3"><span class="float-end"></span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_BALANCE_CLOSED') }}:</div>
            <div class="col-3"><span class="float-end"></span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_THIS_YRS_DIVIS') }}:</div>
            <div class="col-3"><span class="float-end">{{ portfolio.thisYearsDividendsTotal()|number: '1.0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_THIS_YRS_YIELD') }}:</div>
            <div class="col-3"><span class="float-end bold">{{ portfolio.thisYearsDividendsYield()|number: '1.0-1' }}%</span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_DIVI_PROJECTION') }}:</div>
            <div class="col-3"><span class="float-end">{{ portfolio.dividendProjectionsTotal()|number: '1.0' }}</span></div>
        </div>
        <div class="row">
            <div class="col-9">{{ tranService.trans('MYDA_YIELD_PROJECTION') }}:</div>
            <div class="col-3"><span class="float-end bold">{{ portfolio.dividendProjectionsYield()|number: '1.0-1' }}%</span></div>
        </div>
    </div>
    <ng-container *ngIf="portfolio.bankAccounts.length > 1">
        <div class="info-box" *ngFor="let account of portfolio.bankAccounts">
            <h5>{{ account.name }}</h5>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_ACTUAL_INVESTMENT') }}:</div>
                <div class="col-3"><span class="float-end">{{ account.investmentTotal()|number: '1.0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_ACTUAL_VALUE') }}:</div>
                <div class="col-3"><span class="float-end">{{ account.valueTotal()|number: '1.0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_BALANCE_OPEN') }}:</div>
                <div class="col-3"><span class="float-end bold">{{ account.openPositionsBalance()|number: '1.0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">Performance:</div>
                <div class="col-3"><span class="float-end bold">{{ (100 / account.investmentTotal() * account.openPositionsBalance()).toFixed(1) }}%</span></div>
            </div>
            <div class="row">
                <div class="col-9">Cash:</div>
                <div class="col-3"><span class="float-end">{{ account.cashTotal()|number: '1.0-0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">Cash-Ratio:</div>
                <div class="col-3"><span class="float-end bold">{{ account.cashRatio()|number: '1.0-1' }}%</span></div>
            </div>
            <div class="row">
                <div class="col-9">StopLoss Reserve:</div>
                <div class="col-3"><span class="float-end"></span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_BALANCE_CLOSED') }}:</div>
                <div class="col-3"><span class="float-end"></span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_THIS_YRS_DIVIS') }}:</div>
                <div class="col-3"><span class="float-end bold">{{ account.thisYearsDividendsTotal()|number: '1.0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_THIS_YRS_YIELD') }}:</div>
                <div class="col-3"><span class="float-end bold">{{ account.thisYearsDividendsYield()|number: '1.0-1' }}%</span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_DIVI_PROJECTION') }}:</div>
                <div class="col-3"><span class="float-end">{{ account.dividendProjectionsTotal()|number: '1.0' }}</span></div>
            </div>
            <div class="row">
                <div class="col-9">{{ tranService.trans('MYDA_YIELD_PROJECTION') }}:</div>
                <div class="col-3"><span class="float-end bold">{{ account.dividendProjectionsYield()|number: '1.0-1' }}%</span></div>
            </div>
        </div>
    </ng-container>
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-1 pb-2">
        <h4 class="pt-2">{{ tranService.trans('GLOB_BALANCES') }}</h4>
    </div>
    <div *ngIf="dividendLists" class="info-box">
        <h5>{{ tranService.trans('MYDA_DIVI_INCOME') }}</h5>
        <app-stacked-bar-chart [data]="portfolio.dividendIncomeChartData()"></app-stacked-bar-chart>
    </div>
    <div *ngIf="dividendLists" class="info-box">
        <h5>Investment per 1. Juli</h5>
        <app-line-chart [data]="portfolio.investmentChartData()" [height]="300" [forceBeginAtZero]="true" [pointRadius]="4"></app-line-chart>
    </div>
    <div *ngIf="dividendLists" class="info-box">
        <h5>ROI per 1. Juli</h5>
        <app-line-chart [data]="portfolio.yieldChartData()" [height]="300" [forceBeginAtZero]="true" [pointRadius]="4"></app-line-chart>
    </div>
    <div *ngIf="incomeChartDataImproved" class="info-box info-box-doubled">
        <h5>{{ tranService.trans('MYDA_INCOME_PER_MONTH') }}</h5>
        <app-bar-chart [data]="incomeChartDataImproved" [height]="incomeChartDataImprovedBoxHeight"></app-bar-chart>
    </div>
    <div *ngFor="let account of portfolio.bankAccounts" class="info-box">
        <h5>{{ account.name }}</h5>
        <app-bar-chart [data]="getBalanceChartDataByAccount(account)"></app-bar-chart>
    </div>
</div>
